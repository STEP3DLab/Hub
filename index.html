<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Step3D.Lab — Лаборатория промдизайна и инжиниринга</title>
  <meta name="description" content="CAD/CAE, реверсивный инжиниринг, 3D‑сканирование, прототипирование и аддитивное производство. Курсы ДПО и проектные школы." />

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Leaflet (карта) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    /* Небольшие анимации без библиотек */
    @keyframes float { 0%{transform:translateY(-6px)} 50%{transform:translateY(6px)} 100%{transform:translateY(-6px)} }
    .animate-float { animation: float 4s ease-in-out infinite; }
    .invader:hover { transform: translateY(-2px); }
  </style>
</head>
<body class="text-slate-800 bg-gradient-to-b from-white to-slate-50">
  <!-- SEO Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"EducationalOrganization",
    "name":"Step3D.Lab — Лаборатория промдизайна и инжиниринга",
    "department":[{"@type":"Organization","name":"Дополнительное профессиональное образование"}],
    "address":[{"@type":"PostalAddress","streetAddress":"ул. Беговая, 12","addressLocality":"Москва","addressCountry":"RU"}],
    "sameAs":["https://technopark-rgsu.ru"]
  }
  </script>

  <!-- Навигация -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
      <a href="#top" class="font-semibold flex items-center gap-2">
        <span class="inline-block w-6 h-6 rounded-md bg-gradient-to-br from-sky-500 to-emerald-500"></span>
        Step3D.Lab
      </a>
      <div class="hidden md:flex gap-2 text-sm">
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#services">Возможности</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#equipment">Оборудование</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#projects">Проекты</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#courses">Курсы</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#team">Команда</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#faq">FAQ</a>
        <a class="px-3 py-2 rounded-lg hover:bg-slate-100" href="#contacts">Контакты</a>
      </div>
    </nav>
  </header>

  <!-- HERO -->
  <section id="top" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-12 grid md:grid-cols-2 gap-10 items-center">
    <div>
      <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">Лаборатория промдизайна и инжиниринга</h1>
      <p class="mt-4 text-lg text-slate-600">CAD/CAE, реверсивный инжиниринг, 3D‑сканирование, аддитивное производство. Учим и делаем продукты на базе технопарка РГСУ совместно с ООО «СТЕП 3Д».</p>
      <div class="mt-6 flex gap-3">
        <button id="openModal" class="rounded-xl bg-slate-900 text-white px-5 py-3 font-medium shadow hover:bg-slate-800">Оставить заявку</button>
        <button id="toggleAbout" class="rounded-xl border border-slate-300 px-5 py-3 font-medium">О лаборатории</button>
      </div>
      <div id="aboutBox" class="hidden mt-6 rounded-2xl border border-slate-200 bg-white/80 p-4">
        <h3 class="text-xl font-semibold mb-1">О лаборатории</h3>
        <p class="text-slate-700">Step3D.Lab — команда инженеров, дизайнеров и преподавателей. Выполняем R&D‑проекты, проводим курсы ДПО (48–72 ч), сопровождаем производственные задачи. Фокус — CAD/CAE, реверс, 3D‑сканирование, прототипирование и AM.</p>
      </div>
    </div>
    <!-- Абстрактный блок + «рамка Space Invader» -->
    <div class="relative aspect-square">
      <div class="absolute inset-0 grid grid-cols-9 grid-rows-9 gap-1 opacity-30" id="invaderFrame"></div>
      <div class="absolute inset-0 grid place-items-center">
        <div class="w-28 h-28 rotate-45 rounded-2xl shadow-lg bg-gradient-to-br from-slate-200 to-slate-400 animate-float"></div>
      </div>
    </div>
  </section>

  <!-- Секции (данные рендерятся скриптом ниже) -->
  <section id="services" class="py-14">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Возможности лаборатории</h2>
      <p class="text-slate-600 max-w-3xl">Полный цикл: от скана и CAD до печати, постобработки и презентации. Параллельно обучаем и сопровождаем проекты.</p>
      <div id="servicesGrid" class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <section id="equipment" class="py-14 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Оборудование и ПО</h2>
      <p class="text-slate-600 max-w-3xl">3D‑сканеры, принтеры FDM/DLP, лазер/ЧПУ; ПО: Geomagic, GOM Inspect, Inventor, Fusion 360.</p>
      <div id="equipWrap" class="mt-6 grid lg:grid-cols-2 gap-8"></div>
    </div>
  </section>

  <section id="projects" class="py-14">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Проекты и направления НИР</h2>
      <div id="projectsGrid" class="grid md:grid-cols-2 gap-6"></div>
    </div>
  </section>

  <section id="courses" class="py-14 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div id="invadersRow" class="mb-6 flex flex-wrap items-center gap-3"></div>
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Курсы ДПО и проектные школы</h2>
      <p class="text-slate-600 max-w-3xl">Учебные планы 48–72 часа с индивидуальными проектами, подготовка к чемпионатам «Профессионалы», WorldSkills, HI‑TECH.</p>
      <div id="coursesGrid" class="mt-8 grid sm:grid-cols-2 gap-6"></div>
    </div>
  </section>

  <section id="team" class="py-14">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Команда</h2>
      <div id="teamGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <section id="faq" class="py-14 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">FAQ</h2>
      <div id="faqGrid" class="grid md:grid-cols-2 gap-6"></div>
    </div>
  </section>

  <footer id="contacts" class="py-14 border-t border-slate-200 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl md:text-4xl font-bold">Контакты</h2>
        <p class="mt-3 text-slate-600 max-w-prose">Задайте вопрос или оставьте заявку — поможем выбрать формат: учебный модуль, проект, НИОКР или услуга.</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <button id="openModal2" class="rounded-xl bg-slate-900 text-white px-5 py-3 font-medium shadow hover:bg-slate-800">Оставить заявку</button>
          <a href="https://t.me/DTRSSU" target="_blank" rel="noreferrer" class="rounded-xl bg-white px-5 py-3 border border-slate-200 font-medium shadow-sm hover:shadow">Telegram‑канал</a>
        </div>
      </div>
      <div class="rounded-3xl border border-slate-200 p-4">
        <h3 class="font-semibold mb-2">Адрес</h3>
        <div class="text-sm text-slate-700">
          <div class="font-medium">Беговая</div>
          <div>Москва, ул. Беговая, 12</div>
        </div>
        <div id="map" class="mt-4 aspect-video rounded-2xl overflow-hidden border border-slate-200"></div>
        <div class="mt-4 text-sm text-slate-500">© <span id="year"></span> Технопарк РГСУ</div>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 hidden items-center justify-center p-4 z-50">
    <div class="absolute inset-0 bg-black/40"></div>
    <div class="relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl border border-slate-200">
      <h3 class="text-xl font-semibold">Оставить заявку</h3>
      <p class="text-slate-600 mt-1">Заполните контакты — мы свяжемся и обсудим задачу.</p>
      <form id="requestForm" class="mt-4 grid gap-3">
        <input type="text" name="company" class="hidden" tabindex="-1" autocomplete="off" aria-hidden="true" />
        <label class="grid gap-1 text-sm"><span>Имя</span><input required name="name" class="rounded-xl border border-slate-300 px-3 py-2"></label>
        <label class="grid gap-1 text-sm"><span>Телефон</span><input required name="phone" class="rounded-xl border border-slate-300 px-3 py-2"></label>
        <label class="grid gap-1 text-sm"><span>Email</span><input type="email" name="email" class="rounded-xl border border-slate-300 px-3 py-2"></label>
        <label class="grid gap-1 text-sm"><span>Комментарий</span><textarea rows="3" name="comment" placeholder="Опишите задачу, сроки, ссылки" class="rounded-xl border border-slate-300 px-3 py-2"></textarea></label>
        <label class="flex items-center gap-2 text-sm"><input required id="agree" type="checkbox" class="h-4 w-4"><span>Согласен(а) на обработку персональных данных</span></label>
        <div class="mt-2 flex gap-3">
          <button class="rounded-xl bg-slate-900 text-white px-4 py-2">Отправить</button>
          <button type="button" id="closeModal" class="rounded-xl border border-slate-300 px-4 py-2">Отмена</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // === ДАННЫЕ ===
    const services = [
      { id:'cad', title:'CAD/CAE‑моделирование', descr:'Параметрические модели, сборки, FEA‑анализ', badge:'R&D' },
      { id:'reverse', title:'Реверсивный инжиниринг', descr:'3D‑сканирование, обработка сеток, NURBS/САПР', badge:'Geomagic · GOM' },
      { id:'am', title:'Аддитивное производство', descr:'FDM/DLP печать, постобработка, литьё', badge:'FDM · DLP' },
      { id:'proto', title:'Прототипирование', descr:'Мастер‑модели, приспособления, малые серии', badge:'CNC · Laser' },
      { id:'implants', title:'Мед. изделия', descr:'Ортезы, импланты, биопротезы', badge:'MedTech' },
      { id:'edu', title:'Образование', descr:'Курсы ДПО, проектные школы, чемпионаты', badge:'72 ч · 48 ч' },
    ];

    const equipment = [
      { name:'3D‑сканер RangeVision NEO', note:'2 шт.', brand:'RV', cat:'3D‑сканеры' },
      { name:'3D‑сканер RangeVision Spectrum', note:'1 шт.', brand:'RV', cat:'3D‑сканеры' },
      { name:'Artec Eva', note:'ручной, 2 шт.', brand:'AR', cat:'3D‑сканеры' },
      { name:'Ultimaker 3', note:'FDM', brand:'UM', cat:'3D‑принтеры' },
      { name:'Picaso 3D Designer X', note:'FDM', brand:'PX', cat:'3D‑принтеры' },
      { name:'Formlabs (семейство)', note:'DLP/SLA', brand:'FL', cat:'3D‑принтеры' },
      { name:'Roland MDX‑40/50/540', note:'CNC', brand:'RL', cat:'CNC и лазер' },
      { name:'Trotec Speedy 300', note:'Лазер', brand:'TR', cat:'CNC и лазер' },
    ];
    const software = [
      { name:'Geomagic', note:'Reverse/Design', brand:'GMG' },
      { name:'GOM Inspect', note:'Метрология', brand:'GOM' },
      { name:'Autodesk Inventor', note:'CAD', brand:'INV' },
      { name:'Fusion 360', note:'CAD/CAM/CAE', brand:'F360' },
    ];
    const equipmentCatalog = [
      { cat:'3D‑сканеры',  items: equipment.filter(e=>e.cat==='3D‑сканеры') },
      { cat:'3D‑принтеры', items: equipment.filter(e=>e.cat==='3D‑принтеры') },
      { cat:'CNC и лазер', items: equipment.filter(e=>e.cat==='CNC и лазер') },
      { cat:'ПО',          items: software },
    ];

    const svgPh = t => `data:image/svg+xml;utf8,${encodeURIComponent(
      `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 360'>
        <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
          <stop offset='0' stop-color='#f8fafc'/><stop offset='1' stop-color='#e2e8f0'/></linearGradient></defs>
        <rect width='100%' height='100%' fill='url(#g)'/>
        <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Inter,system-ui' font-size='28' fill='#334155'>${t}</text>
      </svg>`
    )}`;

    const projects = [
      { title:'Изготовление ортезов и протезов', tags:['MedTech','FDM/DLP'], desc:'Индивидуальные ортезы и протезы: от скана до готового изделия.', images:[svgPh('Ортез · 1'), svgPh('Ортез · 2')] },
      { title:'Оцифровка ОКН', tags:['Scan','CAD'], desc:'Сканирование и восстановление геометрии, подготовка экспозиционных макетов.', images:[svgPh('ОКН · 1'), svgPh('ОКН · 2')] },
      { title:'Реверс бытовых изделий', tags:['Reverse','CAD'], desc:'Аналитика, улучшение эргономики и технологичности.', images:[svgPh('Реверс · 1'), svgPh('Реверс · 2')] },
      { title:'Боевые роботы (до 1.5 кг)', tags:['Robotics','CNC/3D'], desc:'CAD, печать/ЧПУ‑детали, сборка, тесты.', images:[svgPh('Робот · 1'), svgPh('Робот · 2')] },
    ];

    const courses = [
      { id:'indeng',  title:'Промышленный дизайн и инжиниринг', summary:'3D‑моделирование, прототипирование, аддитивные технологии', hours:'72 ч', audience:'7–11 класс, студенты', href:'#' },
      { id:'reverse', title:'Реверсивный инжиниринг и аддитивное производство', summary:'3D‑сканирование, обработка сканов, CAD, 3D‑печать', hours:'48–72 ч', audience:'Студенты и специалисты', href:'#' },
    ];

    const team = [
      { name:'Владимир Ганьшин', role:'руководитель лаборатории', skills:'CAD/AM, реверс, методология ДПО' },
      { name:'Анна Понкратова',  role:'ведущий инженер‑преподаватель', skills:'3D‑сканирование, обработка сеток' },
      { name:'Алексей Рекут',    role:'инженер‑конструктор', skills:'CAD, ЧПУ, прототипы' },
    ];

    const faq = [
      { q:'Какие материалы печати доступны?', a:'PLA, PETG, ABS, нейлон; смолы DLP/SLA (стандартные и инженерные). Постобработка и окраска доступны.' },
      { q:'Сколько занимает цикл «скан‑CAD‑печать»?', a:'Обычно 2–10 рабочих дней — зависит от размера, точности и загрузки.' },
      { q:'Можно ли обучаться дистанционно?', a:'Теория и разбор кейсов — онлайн. Практика и сканирование — очно в технопарке.' },
      { q:'Документы о повышении квалификации?', a:'Да, по итогам программ ДПО (48–72 ч) — удостоверение установленного образца.' },
      { q:'Берёте проекты под НИР/НИОКР?', a:'Да, оформляем как исследовательские проекты с публикациями и отчётными материалами.' },
      { q:'Как оставить заявку?', a:'Нажмите «Оставить заявку» и заполните форму — ответим в ближайшее время.' },
    ];

    // === HELPER ===
    const el = sel => document.querySelector(sel);

    // Space‑Invader рамка
    (function buildInvaderFrame(){
      const idxs = [0,1,2,3,5,6,7,8,9,17,27,35,45,53,63,71,72,73,74,75,76,77,78,79,80];
      el('#invaderFrame').innerHTML = Array.from({length:81}).map((_,i)=>
        `<div class="rounded-sm ${idxs.includes(i)?'bg-slate-400':''}"></div>`
      ).join('');
    })();

    // services
    el('#servicesGrid').innerHTML = services.map(s => `
      <article class="rounded-3xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow">
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-lg bg-slate-200"></div>
          <div>
            <h3 class="text-lg font-semibold leading-tight">${s.title}</h3>
            <p class="mt-1 text-slate-600 text-sm">${s.descr}</p>
            <span class="mt-3 inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1 text-xs text-slate-600">${s.badge}</span>
          </div>
        </div>
      </article>
    `).join('');

    // equipment
    el('#equipWrap').innerHTML = equipmentCatalog.map(g => `
      <div class="rounded-3xl border border-slate-200 p-4">
        <h3 class="text-lg font-semibold mb-3">${g.cat}</h3>
        <ul class="grid sm:grid-cols-2 gap-3">
          ${g.items.map(e => `
            <li class="rounded-2xl border border-slate-200 bg-white p-4 flex items-center justify-between">
              <span class="font-medium">${e.name}</span>
              <span class="text-sm text-slate-500">${e.note}</span>
            </li>`).join('')}
        </ul>
      </div>
    `).join('');

    // projects
    el('#projectsGrid').innerHTML = projects.map(p => `
      <article class="rounded-3xl border border-slate-200 bg-white p-4">
        <h3 class="text-lg font-semibold">${p.title}</h3>
        <p class="mt-1 text-slate-600 text-sm">${p.desc}</p>
        <div class="mt-3 flex flex-wrap gap-2 text-sm text-slate-500">
          ${p.tags.map(t=>`<span class="inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1">${t}</span>`).join('')}
        </div>
        <div class="mt-4 rounded-2xl overflow-hidden border border-slate-200">
          <img src="${p.images[0]}" alt="${p.title}" class="w-full h-56 object-cover" />
        </div>
      </article>
    `).join('');

    // courses + «invaders»
    const inv = () => `
      <button class="invader p-1 transition" onclick="this.style.opacity=0; this.style.pointerEvents='none';">
        <svg viewBox="0 0 16 12" width="22" height="16" aria-hidden="true">
          <rect x="0" y="4" width="2" height="2" fill="#475569"/><rect x="14" y="4" width="2" height="2" fill="#475569"/>
          <rect x="2" y="2" width="12" height="8" fill="#64748b"/><rect x="4" y="0" width="8" height="4" fill="#64748b"/>
          <rect x="4" y="4" width="2" height="2" fill="#0f172a"/><rect x="10" y="4" width="2" height="2" fill="#0f172a"/>
          <rect x="0" y="10" width="4" height="2" fill="#64748b"/><rect x="12" y="10" width="4" height="2" fill="#64748b"/>
        </svg>
      </button>`;
    el('#invadersRow').innerHTML = Array.from({length:14}).map(inv).join('');

    el('#coursesGrid').innerHTML = courses.map(c => `
      <a href="${c.href}" class="rounded-3xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow block">
        <div class="flex items-start justify-between gap-4">
          <div>
            <div class="flex items-center gap-3">
              <span class="inline-block w-10 h-10 rounded-lg bg-gradient-to-br from-sky-500 to-emerald-500"></span>
              <h3 class="text-xl font-semibold leading-tight underline-offset-4 hover:underline">${c.title}</h3>
            </div>
            <p class="mt-2 text-slate-600">${c.summary}</p>
            <div class="mt-3 flex flex-wrap gap-2 text-sm text-slate-500">
              <span class="inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1">${c.hours}</span>
              <span class="inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1">${c.audience}</span>
            </div>
          </div>
          <svg viewBox="0 0 24 24" class="w-5 h-5 text-slate-400"><path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
      </a>
    `).join('');

    // team
    el('#teamGrid').innerHTML = team.map(m => `
      <div class="rounded-3xl border border-slate-200 bg-white p-6 flex items-center gap-4">
        <div class="grid place-items-center rounded-2xl bg-slate-200 text-slate-700 w-20 h-20">
          ${m.name.split(' ').map(p=>p[0]).slice(0,2).join('').toUpperCase()}
        </div>
        <div>
          <div class="font-semibold">${m.name}</div>
          <div class="text-sm text-slate-500">${m.role}</div>
          <div class="mt-1 text-sm text-slate-600">${m.skills}</div>
        </div>
      </div>
    `).join('');

    // faq
    el('#faqGrid').innerHTML = faq.map(f => `
      <details class="rounded-3xl border border-slate-200 bg-white p-4 open:shadow-md">
        <summary class="cursor-pointer font-medium">${f.q}</summary>
        <p class="mt-2 text-slate-600">${f.a}</p>
      </details>
    `).join('');

    // footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // карта Leaflet
    function initMap(){
      const map = L.map('map', { zoomControl:false, attributionControl:false }).setView([55.775, 37.56], 15);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);
      L.marker([55.775, 37.56]).addTo(map).bindPopup('Москва, ул. Беговая, 12');
    }
    window.addEventListener('load', initMap);

    // модалка
    const modal = document.getElementById('modal');
    const openModal = () => modal.classList.remove('hidden');
    const closeModal = () => modal.classList.add('hidden');
    document.getElementById('openModal').onclick = openModal;
    document.getElementById('openModal2').onclick = openModal;
    document.getElementById('closeModal').onclick = closeModal;
    modal.addEventListener('click', e => { if (e.target === modal.firstElementChild) closeModal(); });
    document.getElementById('requestForm').addEventListener('submit', e => {
      e.preventDefault();
      const fd = new FormData(e.currentTarget);
      console.log('[Request]', Object.fromEntries(fd.entries()));
      closeModal();
    });
    document.getElementById('toggleAbout').onclick = () => {
      document.getElementById('aboutBox').classList.toggle('hidden');
    };
  </script>
</body>
</html>
